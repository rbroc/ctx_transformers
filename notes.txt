# Up next 
# Finish up trainer tests (checkpoints, test_step, train_step)
# Remove n_posts from output and take from example (add map fn)
# Add flexible loss function specification
# Make mock tensorflow dataset or not?

# Refactor dataset/preprocessing
    - Add id to each example
    - Add nr posts?
    - Expand nr users
    - Reverse dataset at save
    - More years/data
# NOTE - some refactoring had previously been done

Long-term
- Add util function to check input
- Develop viz module
- Change package name
- Rerun baseline model with new scripts
- Make dockerfile
- Add gradient accumulation

Notes: 
- Margin, grad accumulation, model type as manipulations
- Tolerance for difference in tests set to 5e-7
- In FFN anchor is averaged
- Average distance from all encodings removed